<?xml version="1.0"?>

<!-- Tasks for prepare build, i.e. for change application and plugins info in the all files. -->

<project name="freeguide-tv-prebuild" default="prepare">

    <target name="prebuild-mkdir">
		<mkdir dir="${build}/buildcode"/>
    </target>

    <target name="prebuild-buildcode" depends="prebuild-mkdir">
    	<javac 
    		destdir="${build}/buildcode">
    		<src path="${src}/build/java"/>
    		<src path="${src}/java-common"/>
    		<src path="${src}/java"/>
    		<classpath>
    			<fileset dir="${src}/lib" includes="**/*.jar"/>
    		</classpath>
            <!-- Uncomment to show warnings <compilerarg value="-Xlint:unchecked"/>-->
    	</javac>
    </target>
	
    <target name="prepare" depends="prebuild-buildcode">
    	<java classpath="${build}/buildcode"
    	classname="PatchAllFiles"
    	fork="true"/>
    </target>
</project>
