/*
 * FreeGuide J2
 *
 * Copyright (c) 2001 by Andy Balaam
 *
 * freeguide-tv.sourceforge.net
 *
 * Released under the GNU General Public License
 * with ABSOLUTELY NO WARRANTY.
 *
 * See the file COPYING for more information.
 */

/*
 * FreeGuideFirstTimeWizard
 *
 * Initial config via a simple wizard interface.
 *
 * @author  Andy Balaam
 * @version 1
 */
public class FreeGuideFirstTimeWizard extends javax.swing.JDialog {
	
	public FreeGuideFirstTimeWizard() {
		super((java.awt.Frame)null, true);
		initComponents();
		setVisible(true);
	}
	
	/** This method is called from within the constructor to
	 * initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is
	 * always regenerated by the Form Editor.
	 */
    private void initComponents() {//GEN-BEGIN:initComponents
        java.awt.GridBagConstraints gridBagConstraints;

        tabs = new javax.swing.JTabbedPane();
        panStart = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        panOS = new javax.swing.JPanel();
        jLabel22 = new javax.swing.JLabel();
        cmbOS = new javax.swing.JComboBox();
        FreeGuideUtils.addOSsToComboBox(cmbOS);
        panCountry = new javax.swing.JPanel();
        jLabel222 = new javax.swing.JLabel();
        cmbCountry = new javax.swing.JComboBox();
        FreeGuideUtils.addCountriesToComboBox(cmbCountry);
        panBrowser = new javax.swing.JPanel();
        jLabel2221 = new javax.swing.JLabel();
        cmbBrowser = new javax.swing.JComboBox();
        FreeGuideUtils.addBrowsersToComboBox(cmbBrowser);
        panFinish = new javax.swing.JPanel();
        jLabel11 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jLabel211 = new javax.swing.JLabel();
        panButtons = new javax.swing.JPanel();
        butCancel = new javax.swing.JButton();
        butBack = new javax.swing.JButton();
        butNext = new javax.swing.JButton();
        butFinish = new javax.swing.JButton();

        getContentPane().setLayout(new java.awt.GridBagLayout());

        setTitle("FreeGuide First Time Wizard");
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                exitForm(evt);
            }
        });

        tabs.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                tabsStateChanged(evt);
            }
        });

        panStart.setLayout(new java.awt.GridLayout(3, 0));

        jLabel1.setFont(new java.awt.Font("Dialog", 1, 14));
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("Welcome to FreeGuide!");
        panStart.add(jLabel1);

        jLabel2.setFont(new java.awt.Font("Dialog", 0, 12));
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel2.setText("I need to ask you 3 quick questions before we begin.");
        panStart.add(jLabel2);

        jLabel21.setFont(new java.awt.Font("Dialog", 0, 12));
        jLabel21.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel21.setText("Click \"Next\" to continue.");
        panStart.add(jLabel21);

        tabs.addTab("Welcome", panStart);

        panOS.setLayout(new java.awt.GridBagLayout());

        jLabel22.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel22.setText("What operating system are you using?");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weighty = 0.5;
        panOS.add(jLabel22, gridBagConstraints);

        cmbOS.setFont(new java.awt.Font("Dialog", 0, 12));
        cmbOS.setMinimumSize(new java.awt.Dimension(200, 25));
        cmbOS.setPreferredSize(new java.awt.Dimension(200, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.weighty = 0.5;
        panOS.add(cmbOS, gridBagConstraints);

        tabs.addTab("OS", panOS);

        panCountry.setLayout(new java.awt.GridBagLayout());

        jLabel222.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel222.setText("What region are you in?");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weighty = 0.5;
        panCountry.add(jLabel222, gridBagConstraints);

        cmbCountry.setFont(new java.awt.Font("Dialog", 0, 12));
        cmbCountry.setMinimumSize(new java.awt.Dimension(200, 25));
        cmbCountry.setPreferredSize(new java.awt.Dimension(200, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.weighty = 0.5;
        panCountry.add(cmbCountry, gridBagConstraints);

        tabs.addTab("Country", panCountry);

        panBrowser.setLayout(new java.awt.GridBagLayout());

        jLabel2221.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel2221.setText("What browser do you use?");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weighty = 0.5;
        panBrowser.add(jLabel2221, gridBagConstraints);

        cmbBrowser.setFont(new java.awt.Font("Dialog", 0, 12));
        cmbBrowser.setMinimumSize(new java.awt.Dimension(200, 25));
        cmbBrowser.setPreferredSize(new java.awt.Dimension(200, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.weighty = 0.5;
        panBrowser.add(cmbBrowser, gridBagConstraints);

        tabs.addTab("Browser", panBrowser);

        panFinish.setLayout(new java.awt.GridLayout(3, 0));

        jLabel11.setFont(new java.awt.Font("Dialog", 1, 14));
        jLabel11.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel11.setText("Congratulations!");
        panFinish.add(jLabel11);

        jLabel23.setFont(new java.awt.Font("Dialog", 0, 12));
        jLabel23.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel23.setText("I've got all I need to know to guess your configuration.");
        panFinish.add(jLabel23);

        jLabel211.setFont(new java.awt.Font("Dialog", 0, 12));
        jLabel211.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel211.setText("If something doesn't work, click \"Tools\" and then \"Options\" to fix it.");
        panFinish.add(jLabel211);

        tabs.addTab("Finish", panFinish);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 0.9;
        gridBagConstraints.weighty = 0.9;
        getContentPane().add(tabs, gridBagConstraints);

        butCancel.setFont(new java.awt.Font("Dialog", 0, 12));
        butCancel.setText("Cancel");
        butCancel.setMaximumSize(new java.awt.Dimension(85, 26));
        butCancel.setMinimumSize(new java.awt.Dimension(85, 26));
        butCancel.setName("null");
        butCancel.setPreferredSize(new java.awt.Dimension(85, 26));
        butCancel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butCancelActionPerformed(evt);
            }
        });

        panButtons.add(butCancel);

        butBack.setFont(new java.awt.Font("Dialog", 0, 12));
        butBack.setText("<< Back");
        butBack.setEnabled(false);
        butBack.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butBackActionPerformed(evt);
            }
        });

        panButtons.add(butBack);

        butNext.setFont(new java.awt.Font("Dialog", 0, 12));
        butNext.setText("Next >>");
        butNext.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butNextActionPerformed(evt);
            }
        });

        panButtons.add(butNext);

        butFinish.setFont(new java.awt.Font("Dialog", 0, 12));
        butFinish.setText("Finish");
        butFinish.setMaximumSize(new java.awt.Dimension(85, 26));
        butFinish.setMinimumSize(new java.awt.Dimension(85, 26));
        butFinish.setPreferredSize(new java.awt.Dimension(85, 26));
        butFinish.setEnabled(false);
        butFinish.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butFinishActionPerformed(evt);
            }
        });

        panButtons.add(butFinish);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        getContentPane().add(panButtons, gridBagConstraints);

        pack();
        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();
        setSize(new java.awt.Dimension(500, 350));
        setLocation((screenSize.width-500)/2,(screenSize.height-350)/2);
    }//GEN-END:initComponents

	private void butCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butCancelActionPerformed
		
		quit();
		
	}//GEN-LAST:event_butCancelActionPerformed

	private void butFinishActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butFinishActionPerformed
		
		FreeGuideUtils.setDefaultOptions( (String)cmbOS.getSelectedItem(), (String)cmbCountry.getSelectedItem(), (String)cmbBrowser.getSelectedItem());
		quit();
		
	}//GEN-LAST:event_butFinishActionPerformed

	private void butBackActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butBackActionPerformed
		
		int i = tabs.getSelectedIndex();
		if(i>0) {
			tabs.setSelectedIndex(i-1);
		}
		
	}//GEN-LAST:event_butBackActionPerformed

	private void tabsStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_tabsStateChanged
		refreshButtons();
	}//GEN-LAST:event_tabsStateChanged

	private void butNextActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butNextActionPerformed
		
		int i = tabs.getSelectedIndex();
		if(i<4) {
			tabs.setSelectedIndex(i+1);
		}
		
	}//GEN-LAST:event_butNextActionPerformed
	
	private void refreshButtons() {
		
		int i = tabs.getSelectedIndex();
		
		switch(i) {
			case 0:
				butBack.setEnabled(false);
				butNext.setEnabled(true);
				butFinish.setEnabled(false);
				break;
			case 4:
				butBack.setEnabled(true);
				butNext.setEnabled(false);
				butFinish.setEnabled(true);
				break;
			default:
				butBack.setEnabled(true);
				butNext.setEnabled(true);
				butFinish.setEnabled(false);
				break;
		}
		
		
	}
	
	private void exitForm(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_exitForm
		quit();	
	}//GEN-LAST:event_exitForm
	
	private void quit() {
		dispose();
	}
	
	
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox cmbCountry;
    private javax.swing.JTabbedPane tabs;
    private javax.swing.JPanel panCountry;
    private javax.swing.JButton butFinish;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel2221;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel211;
    private javax.swing.JPanel panButtons;
    private javax.swing.JComboBox cmbOS;
    private javax.swing.JButton butCancel;
    private javax.swing.JButton butNext;
    private javax.swing.JPanel panFinish;
    private javax.swing.JComboBox cmbBrowser;
    private javax.swing.JPanel panBrowser;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel222;
    private javax.swing.JButton butBack;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JPanel panStart;
    private javax.swing.JPanel panOS;
    // End of variables declaration//GEN-END:variables
	
}
