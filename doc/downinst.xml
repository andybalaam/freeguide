<?xml version="1.0" encoding="utf-8"?>
  <chapter id="downinst">
    <title>Download and Install</title>
    
    <para>If you are in North America, you need to pay for an
    account with
    <ulink url="http://www.schedulesdirect.org/">Schedules Direct</ulink>
    before you install FreeGuide.  Click the "Sign-Up" link on their
    web site to get started.
    Make a note of the username and password you choose as you will need to
    enter them during FreeGuide's first-time wizard.  NOTE: When you
    start FreeGuide you should enter
    your password despite the warning.</para>

    <para>If anyone knows about a free North American listings
    provider, please let us know.</para>
    
    <section id="downinst.windows">
      <title>Windows</title>
      
      <para>Before you do anything else, you will need the
      <ulink url="http://java.sun.com/getjava/">Java 2
      Runtime Environment</ulink> version 1.4 or above: You can check this by
      typing <command>java -version</command> in a DOS or Cmd window.
      Ask on the FreeGuide Users'
      mailing list (see the <link linkend="contact">Contact</link> page) if you
      have trouble installing Java.</para>
      
      <para>Now, to get FreeGuide, go to the <ulink
  url="http://sourceforge.net/project/showfiles.php?group_id=35309&amp;package_id=27789">sourceforge
      download page</ulink> and pick the file like this:
      "<filename>freeguide-x.x.x-with-xmltv-win32.exe</filename>" with the highest
      version number to get the windows installer.</para>
      <para>NOTE: you almost certainly want the "with-xmltv" version, unless you
      know you don't need XMLTV.</para>

      <para>The only thing you need to do after downloading the file is
      double-clicking on the <filename>.exe</filename> file and following the
      installation instructions. After the installation, you will find a
      FreeGuide icon in your start menu.</para>

      <section id="downinst.windows.config">
        <title>Configuring your System</title>
        
        <para>As soon as it's installed, FreeGuide should be ready to go,
        unless you are behind a firewall or proxy server.</para>

        <section id="downinst.windows.proxy">
          <title>Proxy</title>

          <para>If you have a proxy server or are behind a firewall, you will
          need to follow the instructions below to allow FreeGuide to see
          past them to the Internet.</para>
          
          <para>NOTE: most home users will not need to do this - you are
          ready to start FreeGuide!  Go straight to the
          <link linkend="userguide">User Guide</link>.</para>
          
          <para>In the following replace "<uri>example.com</uri>" with
          your proxy server address, and "<parameter>8080</parameter>" with
          the port it uses. On Windows you can find these out from the
          "<guimenu>Tools</guimenu>" menu on Internet Explorer by choosing
          "<guimenuitem>Options</guimenuitem>", going to the
          "<guibutton>Connections</guibutton>" tab and clicking
          "<guibutton>LAN Settings</guibutton>":</para>

          <section>
            <title>With Windows 2000/XP</title>

            <para>Right Click "<guilabel>My Computer</guilabel>" -&gt;
            <guimenuitem>Properties</guimenuitem> Choose the
            <guibutton>Advanced</guibutton> Tab and click the
            <guibutton>Environment Variables</guibutton> button at the bottom
            middle of the window. Click the "<guibutton>New</guibutton>"
            button in the <guilabel>Global Variables</guilabel> section.
            Variable Name: <varname>http_proxy</varname> Variable Value:
            <returnvalue>http://example.com:8080</returnvalue> Click
            <guibutton>OK</guibutton> Click <guibutton>OK</guibutton></para>
          </section>

          <section>
            <title>With Windows 95/98/ME</title>

            <para>Add a line "<code>set
            http_proxy=http://example.com:8080</code>" to the file
            <filename>C:\Autoexec.bat</filename></para>

            <para><guibutton>Restart</guibutton> your computer.</para>
          </section>
        </section>

        <section>
          <title>Channel icons</title>

          <para>In order to make channel icons download ok, you will need to
          add some stuff to the shortcut you use to launch FreeGuide.
          Right-click on the shortcut and choose Properties.</para>

          <para>Now change the command to read like this:</para>

          <para><command>javaw.exe -DproxySet=true -DproxyHost=example.com
          -DproxyPort=8080 -jar "C:\Program Files\FreeGuide\startup.jar"
          --doc_directory "C:\Program Files\FreeGuide\doc" --install_directory
          "C:\Program Files\FreeGuide\"</command></para>
        </section>
      </section>
    </section>

    <section id="downinst.linux">
      <title>Linux</title>

      <para>To use FreeGuide on Linux you need Java and XMLTV.</para>

      <para>You will need the <ulink url="http://java.sun.com/getjava/">Java 2
      Runtime Environment</ulink> version 1.4 or above: You can check this by
      typing <command>java -version</command> in a terminal. (If you've
      installed the new version of Java but "<command>java -version</command>"
      still says the old one, you need to look at putting the new version of
      java in your <varname>PATH</varname>.  Ask on the FreeGuide Users'
      mailing list (see the <link linkend="contact">Contact</link> page) if you
      have trouble installing Java.</para>
      
      <para>Ubuntu users can install Sun's version of Java by typing:
      <programlisting>sudo apt-get install sun-java5-jre</programlisting>
      in a terminal, after making sure the "multiverse" repository is
      enabled.</para>
      
      <para>Continue with your distribution:</para>

        <itemizedlist>
          <listitem>
            <para><link linkend="downinst.linux.rpm">RPM-based distributions
            (RedHat/Fedora, Mandrake, SuSE)</link></para>
          </listitem>

          <listitem>
            <para><link linkend="downinst.linux.ubuntu">Ubuntu</link></para>
          </listitem>
          
          <listitem>
            <para><link linkend="downinst.linux.debian">Debian</link></para>
          </listitem>

          <listitem>
            <para><link linkend="downinst.linux.gentoo">Gentoo</link></para>
          </listitem>

          <listitem>
            <para><link linkend="downinst.linux.tarball">Others - Tarball
            installation</link></para>
          </listitem>
        </itemizedlist>
      
      <section id="downinst.linux.rpm">
        <title>FreeGuide on RPM-based distributions (RedHat/Fedora, Mandrake,
        SuSE)</title>
        
        <para>First, you will need the latest version of XMLTV.  This is made
        fairly easy for RedHat and Fedora users who can sign up for the ATRPMs
        package repository by following the instructions at
        <ulink url="http://atrpms.net/install.html">atrpms.net/install.html</ulink>
        and then install XMLTV by simply typing
        <programlisting>su -c "yum install xmltv"</programlisting>
        or similar.</para>
        
        <para>(If you want to do it the hard way, you can find RPMs (for RedHat
        and Fedora) at <ulink
        url="http://atrpms.physik.fu-berlin.de/name/xmltv/">http://atrpms.physik.fu-berlin.de/name/xmltv/</ulink>.)</para>

        <para>For other RPM-based distros, you should find XMLTV in your
        favourite package repository (let us know so we can add it here).</para>
        
        <para>Alternatively, to download FreeGuide here, go to the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=35309&amp;package_id=27789">sourceforge
        download page</ulink>, download the
        <filename>freeguide-xx-noarch.rpm</filename> RPM file and install it
        like so:</para>

        <programlisting>su -c "rpm -i freeGuide-xx-noarch.rpm"</programlisting>

        <para>This will install FreeGuide and put a shortcut to it in the
        menu.</para>

        <para>You can now run FreeGuide by choosing it from the menu (in
        RedHat it's under "<guimenu>Accessories</guimenu>" or
        "<guimenuitem>Other</guimenuitem>") or alternatively by typing into a
        terminal:</para>

        <programlisting>freeguide</programlisting>

        <para>You'll now need to answer a few questions, and then you're ready
        to go.</para>

        <para>Now <link linkend="downinst.linux.config">configure your
        system</link>.</para>
      </section>
      
      <section id="downinst.linux.ubuntu">
        <title>FreeGuide on Ubuntu</title>
        
        <para>First, you will need the latest version of XMLTV which you can
        get by typing:</para>
        
        <programlisting>sudo apt-get install xmltv</programlisting>
        
        <para>The xmltv package is in the
        "universe" repository, so ensure that is enabled.</para>
        
        <para>If you are using Ubuntu Feisty, freeguide is in the "multiverse"
        repository, so enable that and type:</para>
        
        <programlisting>sudo apt-get install freeguide</programlisting>
        
        <para>[If you are using an earlier Ubuntu version, you can download and
        install the FreeGuide package from <ulink
        url="http://packages.ubuntu.com/feisty/misc/freeguide">http://packages.ubuntu.com/feisty/misc/freeguide</ulink>.
        This is a Feisty package, but it should work on any version
        of Ubuntu (it certainly works on Dapper and Edgy).]</para>
        
        <para>You can now run FreeGuide by choosing it from the menu (under
        "Sound and Video") or alternatively by typing into a terminal:</para>

        <programlisting>freeguide</programlisting>

        <para>You'll now need to answer a few questions, and then you're ready
        to go.</para>
        
        <para>Now <link linkend="downinst.linux.config">configure your
        system</link>.</para>
        
      </section>
      
      <section id="downinst.linux.debian">
        <title>FreeGuide on Debian</title>
        
        <para>First, you will need the latest version of XMLTV which you can
        get by typing:</para>
        
        <programlisting>apt-get install xmltv</programlisting>
        
        <para>logged in as root.  The latest version of FreeGuide is usually
        in "unstable", but there are decent versions in "testing" and
        "stable" too.  Unstall it like so:</para>
        
        <programlisting>apt-get install freeguide</programlisting>
		
        <para>[If you need to get the package manually, download and install
        it from from <ulink
        url="http://packages.debian.org/freeguide">http://packages.debian.org/freeguide</ulink>.]</para>
        
        <para>You can now run FreeGuide by choosing it from the menu or
        alternatively by typing into a terminal:</para>

        <programlisting>freeguide</programlisting>

        <para>You'll now need to answer a few questions, and then you're ready
        to go.</para>
        
        <para>Now <link linkend="downinst.linux.config">configure your
        system</link>.</para>
      </section>

      <section id="downinst.linux.gentoo">
        <title>FreeGuide on Gentoo</title>
        
        <para>First, you will need to install XMLTV.  Either use emerge if the
        xmltv package is available, or, if you have to,
        <link linkend="downinst.linux.xmltv">install XMLTV from source</link>.</para>
        
        <para>FreeGuide isn't officially supported by Gentoo, but there are
        ebuilds which can be installed manually.</para>

        <para>First, go to the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=35309&amp;package_id=27789">sourceforge
        download page</ulink> and download the
        <filename>freeguide_gentoo_ebuilds_x.y.z.tar.bz2</filename>
        file.</para>

        <para>Second: Follow the instructions on <ulink
        url="http://gentoo-wiki.com/HOWTO_Installing_3rd_Party_Ebuilds">Gentoo
        Wiki: Installing 3rdParty ebuilds</ulink>.</para>

        <para>After you have set up your local portage overlay dir, extract
        the freeguide ebuild file into the directory and do a</para>

        <programlisting>ACCEPT_KEYWORDS="~x86" emerge install freeguide</programlisting>

        <para>There are several freeguide packages in portage, but "freeguide"
        alone installs the most necessary ones. If you need another grabber or
        other plugins, type</para>

        <programlisting>emerge search freeguide</programlisting>

        <para>and choose the right ones for you.</para>
        
        <para>You can now run FreeGuide by choosing it from the menu or
        alternatively by typing into a terminal:</para>

        <programlisting>freeguide</programlisting>

        <para>You'll now need to answer a few questions, and then you're ready
        to go.</para>
        
        <para>Now <link linkend="downinst.linux.config">configure your
        system</link>.</para>
      </section>

      <section id="downinst.linux.tarball">
        <title>FreeGuide on other distros - Tarball installation</title>
        
        <para>First, you will need to install XMLTV.  Either use your operating
        system's package management system, or, if you have to,
        <link linkend="downinst.linux.xmltv">install XMLTV from source</link>.</para>
        
        <para>Go to the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=35309&amp;package_id=27789">sourceforge
        download page</ulink>.</para>
        
        <para>To install FreeGuide in its normal place, download
        <filename>freeguide-x.y.z-install-bin.tar.gz</filename>, and unzip
        this tarball in <filename>/</filename> as
        root.</para>
        
        <para>You can now run FreeGuide by typing:</para>

        <programlisting>freeguide</programlisting>
        
        <para>To install FreeGuide in a local directory, download
        and unzip <filename>freeguide-x.y.z-bin.tar.gz</filename>.</para>
        
        <para>You can now run FreeGuide by typing:</para>

        <programlisting>./freeguide</programlisting>
        
        <para>in the directory into which you unzipped the file.</para>

        <para>You'll now need to answer a few questions, and then you're ready
        to go.</para>
        
        <para>Now <link linkend="downinst.linux.config">configure your
        system</link>.</para>
        
        <para>NOTE: if you use a different operating system or Linux
        distribution and would like to contribute either more detailed
        installation instructions or a specific installer, we'd welcome your
        contribution!  Please contact the developers' mailing list.</para>
        
      </section>
      
      <section id="downinst.linux.xmltv">
        <title>Installing XMLTV from source</title>

        <para>Most people will not need to do this.  See the instructions
        above for your distro on how to get XMLTV.</para>
        
        <para>To install XMLTV from source (which can be tricky due to the large
        number of prerequisites) download the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=39046&amp;package_id=31217">latest
        version</ulink> plus the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=39046&amp;package_id=91929">prerequisites</ulink>.</para>

        <para>Install from source in the usual way with:</para>
        
        <programlisting>perl Makefile.PL</programlisting>
        <programlisting>make</programlisting>
        <programlisting>su -c "make install"</programlisting>
        
      </section>

      <section id="downinst.linux.config">
        <title>Configuring your System</title>

        <section id="downinst.linux.config.proxy">
          <title>Proxy</title>
          
          <para>If you have a proxy server or are behind a firewall, you may
          need to follow the instructions below to allow FreeGuide to see
          past them to the Internet.</para>
          
          <para>NOTE: most home users will NOT need to do this - you are
          ready to start FreeGuide!  Go straight to the
          <link linkend="userguide">User Guide</link>.</para>
          
          <para>Add 2 lines to the file
          <filename>~/.bash_profile</filename>:</para>

          <programlisting><code>export http_proxy=http://example.com:8080
export FREEGUIDE_OPTS=-DproxySet=true -DproxyHost=http://example.com -DproxyPort=8080</code></programlisting>

          <para>Replace "<uri>example.com</uri>" with your proxy server
          address, and "<parameter>8080</parameter>" with the port it
          uses.</para>
        </section>
      </section>
    </section>

    <section id="downinst.macos">
      <title>Mac OS X</title>

      <para>[NOTE: these instructions may be somewhat incomplete.  If you can
      improve them, please <link linkend="contact">contact us</link> - we
      will be really grateful.]</para>
      
      <para>To use FreeGuide on Mac OS X you need Java and XMLTV.</para>

      <para>You will need the Java 2
      Runtime Environment version 1.4 or above: You can check this by
      typing <command>java -version</command> in a terminal.  Ask on the
      FreeGuide Users' mailing list (see the
      <link linkend="contact">Contact</link> page) if you have trouble
      installing Java.</para>
      
      <para>First, you will need to install XMLTV.  We don't have specific
      instructions available for Mac OS X, but the 
      <link linkend="downinst.linux.xmltv">Linux XMLTV</link> instructions
      may help.  Please <link linkend="contact">contact us</link> if you
      get this working, so we can improve these instructions.</para>
      
      <para>Now, download the file <filename>freeguide-x.y.z.dmg</filename>
      from the <ulink
  url="http://sourceforge.net/project/showfiles.php?group_id=35309&amp;package_id=27789">sourceforge
      download page</ulink>.</para>
      
      <para>Mount the downloaded .dmg file so you can see what's inside.</para>
      
      <para>Drag Freeguide.app from the mounted disk image to the Applications
      Folder.</para>
 
      <para>Double click on Freeguide.app to start the program.  Answer the
      initial questions you are asked.  Uncheck the "Choose channels" checkbox
      when you see it.  Click "No" when asked whether you want to download
      listings.</para>
 
      <para>In the menu go to Tools and Options.  Expand the Advanced node,
      and expand Grabbers.  Click XMLTV.</para>
 
      <para>Change the paths to the appropriate tv_grab_* perl scripts  
      executable in the two text entries, so that they are the full
      absolute paths.</para>
      
      <para>Click Configure to choose your channels, and answer the
      questions.</para>
      
      <para>Click OK, and you should be able to click "Download listings" to
      download.</para>
      
      <para><link linkend="contact">Contact us</link> if you have any problems
      and we'll try to help you get it working.</para>
      
    </section>
<!--
    <section id="downinst.freebsd">
      <title>FreeBSD</title>

      <para>FIXME</para>
    </section>

    <section id="downinst.otheros">
      <title>Other operating systems</title>

      <para>FIXME</para>
    </section>
-->
  </chapter>
