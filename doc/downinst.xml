<?xml version="1.0" encoding="utf-8"?>
  <chapter id="downinst">
    <title>Download and Install</title>
    
    <para>If you are in North America, you need to get a Data Direct account
    from Zap2it before you install FreeGuide.  To do this, go to
    <ulink url="http://labs.zap2it.com">http://labs.zap2it.com</ulink>
    and click the "New User? Sign-Up" link.  Use the certificate code
    <varname>TUYO-DCXM-CBUT</varname>.
    Make a note of the username and password you choose as you will need to
    enter them during FreeGuide's first-time wizard.  NOTE: You should enter
    your password despite the warning.</para>
    
    <section id="downinst.windows">
      <title>Windows</title>
      
      <para>Before you do anything else, you will need the
      <ulink url="http://java.sun.com/getjava/">Java 2
      Runtime Environment</ulink> version 1.4 or above: You can check this by
      typing <command>java -version</command> in a DOS or Cmd window.
      Ask on the FreeGuide Users'
      mailing list (see the <link linkend="contact">Contact</link> page) if you
      have trouble installing Java.</para>
      
      <para>Now, to get FreeGuide, go to the <ulink
  url="http://sourceforge.net/project/showfiles.php?group_id=35309&amp;package_id=27789">sourceforge
      download page</ulink> and pick the file like this:
      "<filename>freeguide-x.x.x-with-xmltv-win32.exe</filename>" with the highest
      version number to get the windows installer.</para>
      <para>NOTE: you almost certainly want the "with-xmltv" version, unless you
      know you don't need XMLTV.</para>

      <para>The only thing you need to do after downloading the file is
      double-clicking on the <filename>.exe</filename> file and following the
      installation instructions. After the installation, you will find a
      FreeGuide icon in your start menu.</para>

      <section id="downinst.windows.config">
        <title>Configuring your System</title>
        
        <para>As soon as it's installed, FreeGuide should be ready to go,
        unless you are behind a firewall or proxy server.</para>

        <section id="downinst.windows.proxy">
          <title>Proxy</title>

          <para>If you have a proxy server or are behind a firewall, you will
          need to follow the instructions below to allow FreeGuide to see
          past them to the Internet.</para>
          
          <para>NOTE: most home users will not need to do this - you are
          ready to start FreeGuide!  Go straight to the
          <link linkend="userguide">User Guide</link>.</para>
          
          <para>In the following replace "<uri>proxy.uni.ac.uk</uri>" with
          your proxy server address, and "<parameter>8080</parameter>" with
          the port it uses. On Windows you can find these out from the
          "<guimenu>Tools</guimenu>" menu on Internet Explorer by choosing
          "<guimenuitem>Options</guimenuitem>", going to the
          "<guibutton>Connections</guibutton>" tab and clicking
          "<guibutton>LAN Settings</guibutton>":</para>

          <section>
            <title>With Windows 2000/XP</title>

            <para>Right Click "<guilabel>My Computer</guilabel>" -&gt;
            <guimenuitem>Properties</guimenuitem> Choose the
            <guibutton>Advanced</guibutton> Tab and click the
            <guibutton>Environment Variables</guibutton> button at the bottom
            middle of the window. Click the "<guibutton>New</guibutton>"
            button in the <guilabel>Global Variables</guilabel> section.
            Variable Name: <varname>http_proxy</varname> Variable Value:
            <returnvalue>http://proxy.uni.ac.uk:8080</returnvalue> Click
            <guibutton>OK</guibutton> Click <guibutton>OK</guibutton></para>
          </section>

          <section>
            <title>With Windows 95/98/ME</title>

            <para>Add a line "<code>set
            http_proxy=http://proxy.uni.ac.uk:8080</code>" to the file
            <filename>C:\Autoexec.bat</filename></para>

            <para><guibutton>Restart</guibutton> your computer.</para>
          </section>
        </section>

        <section>
          <title>Channel icons</title>

          <para>In order to make channel icons download ok, you will need to
          add some stuff to the shortcut you use to launch FreeGuide.
          Right-click on the shortcut and choose Properties.</para>

          <para>Now change the command to read like this:</para>

          <para><command>javaw.exe -DproxySet=true -DproxyHost=proxy.uni.ac.uk
          -DproxyPort=8080 -jar "C:\Program Files\FreeGuide\startup.jar"
          --doc_directory "C:\Program Files\FreeGuide\doc" --install_directory
          "C:\Program Files\FreeGuide\"</command></para>
        </section>
      </section>
    </section>

    <section id="downinst.linux">
      <title>Linux</title>

      <para>To use FreeGuide on Linux you need Java and XMLTV.</para>

      <para>You will need the <ulink url="http://java.sun.com/getjava/">Java 2
      Runtime Environment</ulink> version 1.4 or above: You can check this by
      typing <command>java -version</command> in a terminal. (If you've
      installed the new version of Java but "<command>java -version</command>"
      still says the old one, you need to look at putting the new version of
      java in your <varname>PATH</varname>.  Ask on the FreeGuide Users'
      mailing list (see the <link linkend="contact">Contact</link> page) if you
      have trouble installing Java.</para>
      
      <para>Ubuntu users can install Sun's version of Java by typing:
      <programlisting>sudo apt-get install
      sun-java5-jre</programlisting> in a terminal, after making sure the
      "multiverse" repository is enabled.</para>
      
      <section id="downinst.linux.xmltv">
        <title>Installing XMLTV</title>

        <para>For Linux, you need to install the latest version of
        XMLTV.</para>

        <para>You can find RPMs for RedHat and Fedora at <ulink
        url="http://atrpms.physik.fu-berlin.de/name/xmltv/">http://atrpms.physik.fu-berlin.de/name/xmltv/</ulink>
        and if you run Debian you can find xmltv in
        <emphasis>unstable</emphasis>.</para>
		
		<para>On Ubuntu, install the xmltv-gui package from the universe
        repository.</para>
		
		<para>On Debian, install the xmltv-gui package.</para>

        <para>To install from source (which can be tricky due to the large
        number of prerequisites) download the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=39046&amp;package_id=31217">latest
        version</ulink> plus the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=39046&amp;package_id=91929">prerequisites</ulink>.</para>

        <para>Install from source in the usual way with "<command>perl
        Makefile.PL &amp;&amp; make &amp;&amp; make install</command>".</para>
        
        <para>Continue with your distribution:</para>

        <itemizedlist>
          <listitem>
            <para><link linkend="downinst.linux.rpm">RPM-based distributions
            (RedHat/Fedora, Mandrake, SuSE)</link></para>
          </listitem>

          <listitem>
            <para><link linkend="downinst.linux.debian">Debian and
            Ubuntu</link></para>
          </listitem>

          <listitem>
            <para><link linkend="downinst.linux.gentoo">Gentoo</link></para>
          </listitem>

          <listitem>
            <para><link linkend="downinst.linux.tarball">Others - Tarball
            installation</link></para>
          </listitem>
        </itemizedlist>
      </section>

      <section id="downinst.linux.rpm">
        <title>FreeGuide on RPM-based distributions (RedHat/Fedora, Mandrake,
        SuSE)</title>

        <para>Go to the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=35309&amp;package_id=27789">sourceforge
        download page</ulink>, download the
        <filename>FreeGuide-xx-noarch.rpm</filename> RPM file and install it
        like so:</para>

        <programlisting>su -c "rpm -i FreeGuide-xx-noarch.rpm". </programlisting>

        <para>This will install FreeGuide and put a shortcut to it in the
        menu.</para>

        <para>You can now run FreeGuide by choosing it from the menu (in
        RedHat it's under "<guimenu>Accessories</guimenu>" or
        "<guimenuitem>Other</guimenuitem>") or alternatively by typing:</para>

        <programlisting>java -jar /usr/share/freeguide/startup.jar</programlisting>

        <para>You'll now need to answer a few questions, and then you're ready
        to go.</para>

        <para>Now <link linkend="downinst.linux.config">configure your
        system</link>.</para>
      </section>

      <section id="downinst.linux.debian">
        <title>FreeGuide on Debian and Ubuntu</title>
        
        <para>There are Debian packages available from <ulink
        url="http://packages.debian.org/freeguide">http://packages.debian.org/freeguide</ulink>.</para>
        
        <para>Now <link linkend="downinst.linux.config">configure your
        system</link>.</para>
      </section>

      <section id="downinst.linux.gentoo">
        <title>FreeGuide on Gentoo</title>

        <para>FreeGuide isn't officially supported by Gentoo, but there are
        ebuilds which can be installed manually.</para>

        <para>First, go to the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=35309&amp;package_id=27789">sourceforge
        download page</ulink> and download the
        <filename>freeguide_gentoo_ebuilds_x.y.z.tar.bz2</filename>
        file.</para>

        <para>Second: Follow the instructions on <ulink
        url="http://gentoo-wiki.com/HOWTO_Installing_3rd_Party_Ebuilds">Gentoo
        Wiki: Installing 3rdParty ebuilds</ulink>.</para>

        <para>After you have set up your local portage overlay dir, extract
        the freeguide ebuild file into the directory and do a</para>

        <programlisting>ACCEPT_KEYWORDS="~x86" emerge install freeguide</programlisting>

        <para>There are several freeguide packages in portage, but "freeguide"
        alone installs the most necessary ones. If you need another grabber or
        other plugins, type</para>

        <programlisting>emerge search freeguide</programlisting>

        <para>and choose the right ones for you.</para>

        <para>Now <link linkend="downinst.linux.config">configure your
        system</link>.</para>
      </section>

      <section id="downinst.linux.tarball">
        <title>FreeGuide on other distros - Tarball installation</title>

        <para>Go to the <ulink
        url="http://sourceforge.net/project/showfiles.php?group_id=35309&amp;package_id=27789">sourceforge
        download page</ulink> and download 
        <filename>freeguide-x.y.z-bin.tar.gz</filename>.</para>
        
        <para>You can either unzip this tarball in <filename>/</filename> as
        root, or unzip it somewhere else and modify the file 
        <filename>usr/bin/freeguide</filename> to point at the correct
        paths.</para>

        <para>Now <link linkend="downinst.linux.config">configure your
        system</link>.</para>
      </section>

      <section id="downinst.linux.config">
        <title>Configuring your System</title>

        <section id="downinst.linux.config.proxy">
          <title>Proxy</title>
          
          <para>If you have a proxy server or are behind a firewall, you may
          need to follow the instructions below to allow FreeGuide to see
          past them to the Internet.</para>
          
          <para>NOTE: most home users will not need to do this - you are
          ready to start FreeGuide!  Go straight to the
          <link linkend="userguide">User Guide</link>.</para>
          
          <para>Add 2 lines to the file
          <filename>~/.bash_profile</filename>:</para>

          <programlisting><code>export http_proxy=http://proxy.uni.ac.uk:8080
export FREEGUIDE_OPTS=-DproxySet=true -DproxyHost=http://proxy.uni.ac.uk -DproxyPort=8080</code></programlisting>

          <para>Replace "<uri>proxy.uni.ac.uk</uri>" with your proxy server
          address, and "<parameter>8080</parameter>" with the port it
          uses.</para>
        </section>
      </section>
    </section>
<!--
    <section id="downinst.macos">
      <title>Mac OS</title>

      <para>FIXME</para>
    </section>

    <section id="downinst.freebsd">
      <title>FreeBSD</title>

      <para>FIXME</para>
    </section>

    <section id="downinst.otheros">
      <title>Other operating systems</title>

      <para>FIXME</para>
    </section>
-->
  </chapter>
