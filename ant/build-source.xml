<?xml version="1.0"?>

<project name="freeguide-tv-source" default="source-all">

    <import file="build-plugins-info.xml"/>

    <target name="source-init">
        <mkdir dir="${dist}" />
        <mkdir dir="${dist-src}" />
    </target>
    
    <target name="source-all" depends="source-init"
        description="generate the source tar.gz and zip">

        <tar longfile="gnu"
            destfile="${dist-src}/${application-id}-${application-version}-src.tar.gz"
            compression="gzip">
            
            <tarfileset dir="." prefix="${application-id}-${application-version}">
                <exclude name="**/.xvpics/**" />
                <exclude name="**/.svn/**"/>
                <exclude name="build/**"/>
                <exclude name="dist/**"/>
                <exclude name="stats/**"/>
                <exclude name="doc/nonlocal/**"/>
                <exclude name="doc/html-web/**"/>
                <exclude name="**/*.class"/>
            </tarfileset>
            
        </tar>
        
        <zip zipfile="${dist-src}/${application-id}-${application-version}-src.zip">
        
            <zipfileset dir="." prefix="${application-id}-${application-version}">
                <exclude name="**/.xvpics/**" />
                <exclude name="**/.svn/**"/>
                <exclude name="build/**"/>
                <exclude name="dist/**"/>
                <exclude name="stats/**"/>
                <exclude name="doc/nonlocal/**"/>
                <exclude name="doc/html-web/**"/>
                <exclude name="**/*.class"/>
            </zipfileset>
            
        </zip>
        
    </target>
</project>

