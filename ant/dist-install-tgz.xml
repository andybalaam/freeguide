<?xml version="1.0" encoding="utf-8"?>
<!--
    Creates a .tar.gz file meant to be extracted into the root
    folder, creating all necessary files in the standard folders
    to run the program (e.g. icons, man page, executable)
-->
<project name="freeguide-tv-dist-install"  default="dist-install-tgz">

    <import file="plugins-info.xml"/>
    <import file="install-linux.xml"/>

    <target name="dist-install-tgz">

        <delete dir="${build}/install-tgz"/>
        <antcall target="install-linux">
            <param name="install_share_dir" value="${build}/install-tgz/usr/share"/>
            <param name="install_bin_dir" value="${build}/install-tgz/usr/bin"/>
            <param name="install_real_dir" value="/usr/share/freeguide"/>
            <param name="install_real_doc_dir" value="/usr/share/freeguide/doc"/>
        </antcall>

        <mkdir dir="${dist-install-tgz}"/>
        <tar longfile="gnu"
             destfile="${dist-install-tgz}/${application-id}-${application-version}-install-bin.tar.gz" compression="gzip" >
            <tarfileset dir="${build}/install-tgz" />
        </tar>
    </target>

</project>

